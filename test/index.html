<html lang="en">
    <head>
        <title>maachen - test</title>

        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <main id="root">
            <p align="center">
                <img src="../assets/logo.png" width="150" alt="logo of maachen">
            </p>
            <section>
                <h2>Rendering</h2>
                <p x-template>Hello {{message}}</p>
                <p x-template>Time: {{time}}</p>
            </section>
            <section>
                <h2>Input</h2>
                <p x-template>Typed: {{input}}</p>
                <input type="text" id="i-input" placeholder="message" x-input="input">
            </section>
            <section>
                <h2>Forms</h2>
                <form method="get" id="f-login" x-form>
                    <input-group>
                        <label for="i-username">username</label>
                        <input type="text" name="username" id="i-username" x-input="username" placeholder="john.doe" x-required>
                    </input-group>
                    <input-group>
                        <label for="i-password">password</label>
                        <input type="password" name="password" id="i-password" x-input="password" x-required>
                    </input-group>
                    <button type="submit">submit</button>
                </form>
            </section>
        </main>
    </body>

    <script src="../src/maachen.js"></script>
    <script>
        // enable debug
        config.debug = true;
        // initialize new app
        const app = new maachen(e('root'));
        // find renderer relevant elements
        app.updateRenderer();
        // register variable
        app.setVariable('message', 'hello, world');
        app.setVariable('input', 'placeholder');
        app.setVariable('time', (new Date().getTime() / 1000).toFixed(0));
        // render view
        app.render();
        // make update variable test
        setTimeout(function() {
            app.updateVariable('message', 'hello maachen')
        }, 2000);
        // update time every second
        setInterval(function() {
            app.updateVariable('time', (new Date().getTime() / 1000).toFixed(0));
        }, 1000)
    </script>
</html>